<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Yellowfin BI | Report Embedding</title>
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v5.15.1/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic" rel="stylesheet" type="text/css" />
        <!-- Third party plugin CSS-->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/magnific-popup.min.css" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="../../css/styles.css" rel="stylesheet" />
        <link href="../css/report.css" rel="stylesheet" />
        <link rel="icon" href="https://yellowfin-cdn.yellowfinbi.com/assets/themes/yellowfin/library/images/icons/cropped-YF_18_FAVx512px-32x32.png" sizes="32x32" />
      
    </head>
    <body id="page-top">
        <style>
         body .yfContainer{font-family: Roboto, Arial, Tahoma, Helvetica, Geneva, sans-serif !important;}   
        .embed_container{width:100%; margin:auto;}
        .button-group button{margin:2px;} 
        .button-group{margin: auto;width: 21%;padding: 10px;} 
        div#reportContainer{display: block;min-height: 350px; margin: 4%;}   
        div.report{width: 100%;margin: auto;margin-top: -5%;}
        .filterValues {display: inline-block; font-family: "Merriweather Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";}
        .filterName {display: inline-block; margin-bottom: 0.5rem; font-family: "Merriweather Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-weight: 600;line-height: 1.2;}
        app-report > report-output {height: 525px !important;}
        div#breadcrumbContainer {margin-top: 2%;background-color: #ededed;border-radius: 5px;padding: 2%;display: inline-block;box-shadow: 0px 33px 20px -17px #a8a8a8;}
        div.canvasObject div.reportContainer, report-output div.reportContainer {overflow: visible !important;} 
        .filterListControlIcon.refresh {display: none !important;}
        report-output > div:first-child{overflow-y: visible !important;}

        .filterPromptHeader .exitButton:hover {background-color: #71768436;border-radius: 5px;}
        div.filterPromptHolder .exitButton {height: 25px !important;width: 25px !important;}
        .searchBar input {height: 25px !important;}
        .slimOutputList {width: 730px !important;}
        .filterOutputList .filterList {width: 730px !important;}        
        .filterOutputList .filterList > * {width: 230px;border-radius: 6px;display: inline-block;margin: 3px;} 
        .filterOutput {height: 240px !important;} 
        .filterList :last-child .filterOutput, .filterList :last-child .filterGroup {margin-bottom: 10px !important;}
        div.filterOutputControlPanel.topFilterControl, div.filterOutputControlPanel.bottomFilterControl {justify-content: flex-end !important;} 
        .submitMidHighlightButton {border: 0 !important;} 
        .hoverMidHighlightButton {border: 0 !important;background-color:#00689c} 
        filter-list > div:first-child {border-radius: 0px 0px 5px 5px;border: 0px !important;box-shadow: 10px 5px 20px 0px #9ba2b7;}
        .filterListHeading .filterClose:hover {background: #71768436;border-radius: 5px;}
        </style>
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-light fixed-top py-3" id="mainNav">
            <div class="container">
                <a class="navbar-brand js-scroll-trigger" href="#page-top"><img style="max-height: 46px;" src="https://yellowfin-cdn.yellowfinbi.com/assets/themes/yellowfin/library/images/logo-colour-dark-bg_d482a50b.svg"/></a>
                <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ml-auto my-2 my-lg-0">
                                                <li class="nav-item"><a class="nav-link js-scroll-trigger" href="../../index.html">Home</a></li>
                        <li class="nav-item"><a class="nav-link js-scroll-trigger" href="../../report_embedding/index.html">Report Embedding</a></li>
                        <li class="nav-item"><a class="nav-link js-scroll-trigger" href="../../dashboard_embedding/index.html">Dashboard Embedding</a></li>
                        <li class="nav-item"><a class="nav-link js-scroll-trigger" href="../../code_mode/index.html">Code Mode</a></li>
                        <li class="nav-item"><a class="nav-link js-scroll-trigger" href="../../js_charts/index.html">Javascript Charts</a></li>
                        <li class="nav-item"><a class="nav-link js-scroll-trigger" href="../../projects/index.html">Projects</a></li>
                        <li class="nav-item"><a class="nav-link js-scroll-trigger" href="../../other_code/index.html">More</a></li>

                    </ul>
                </div>
            </div>
        </nav>
        <!-- Masthead-->
        
        <!-- About-->
        <section class="page-section bg-primary" id="about">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-lg-8 text-center">
                        <h2 class="text-white mt-0">Creating a filter breadcrumb with the filterAPI</h2>
                        <hr class="divider light my-4" />
                        <p class="text-white-50 mb-4"></p>
                    </div>
                </div>
            </div>
        </section>
        <!-- Services-->
        <div class="container">
           <div id="breadcrumbContainer"></div>     
           <div id="reportContainer"></div>
           
           
              </div>
          </div>
          <script src="../js/filters_breadcrumb.js"></script> 
          <script src="/JsAPI/v3"></script>
          <!-- Yellowfin API Calls-->
          <script>
          yellowfin.init().then(() => {
            yellowfin.loadReport({
                  reportUUID: "df41eb4c-d90b-42ac-bdc1-fce7e4b48fe2",
                 
            }).then(report=>{
                report.createReportElement({
		        displayType: 'REPORT',
		        element: document.querySelector("div#reportContainer"),
                height: "500px",
		        });
                createBreadcrumb(document.querySelector('#breadcrumbContainer'), report);
            });
            
          });

          </script>
        </section>
        <section class="page-section bg-primary" id="about">
          <div class="container">
              <div class="row justify-content-center">
                  <div class="col-lg-8">
                      <h2 class="text-white mt-0  text-center">The code you need to do this yourself</h2>
                      <hr class="divider light my-4" />
 <h3 class="text-white">Front End Content</h3>                    
                        <pre>
                        <code>

&lt;div class="container"&gt;
&lt;div id="breadcrumbContainer"&gt;&lt;/div&gt;     
&lt;div id="reportContainer"&gt;&lt;/div&gt;


    &lt;/div&gt;
&lt;/div&gt;
&lt;script src="../js/filters_breadcrumb.js"&gt;&lt;/script&gt; 
&lt;script src="https://[yourYellowfinInstallURLAndPort]/JsAPI/v3"&gt;&lt;/script&gt;
&lt;!-- Yellowfin API Calls--&gt;
&lt;script&gt;
yellowfin.init().then(() =&gt; {
    yellowfin.loadReport({
        reportUUID: "9044e929-b25a-4843-9a68-8dd3001b4159",
        
    }).then(report=&gt;{
        report.createReportElement({
        displayType: 'REPORT',
        element: document.querySelector("div#reportContainer"),
        height: "500px",
        });
        createBreadcrumb(document.querySelector('#breadcrumbContainer'), report);
    });
    
});

&lt;/script&gt;

                        </code>
                      </pre>
<h3 class="text-white">Supporting JS file Content</h3>                    
                      <pre>
                      <code>
function createBreadcrumb(breadcrumbElement, report) {
    //Create a div that we will be cloning for each filter that is present within a list
    let example = document.createElement('div');
    example.className = 'breadcrumb_example';
    example.innerHTML = '&lt;div class="filterName"&gt;&lt;/div&gt;'+':&nbsp;'+ '&lt;div class="filterValues"&gt;&lt;/div&gt;';
    /*+
        '&lt;div class="filterClear"&gt;Clear&lt;/div&gt;';
        */
    //We can retrieve the filters API from the report. 
    let filters = report.filters;
    
//Use the filters forEach function to iterate 
    filters.forEach(filter => {
        //Clone the example node
        let element = example.cloneNode(true);
        
        //Add the filterName to the div with the class .filterName
        element.querySelector('.filterName').innerText = filter.name;
        
        //Add the applied values to the filterValues div
        element.querySelector('.filterValues').innerText = getDisplayValue(filter);
        
        filter.addEventListener('changed', function(event) {
            element.classList.add('updated');
        });
        
        filter.addEventListener('applied', function(event) {
            element.classList.remove('updated');
            element.querySelector('.filterValues').innerText = getDisplayValue(filter);
        });
        
        //Finally append the filter element to the breadcrumb element
        breadcrumbElement.appendChild(element);

    });
    
}

function valuesApplied(filter) {
    let appliedValues = filter.appliedValues || {};
    if(filter.list) {
        //If the filter is a list filter, the list should no be null and should have a length of > 0 to be considered set
        return appliedValues.valueList && appliedValues.valueList.length > 0;
    } else {
        //Use the !! operation to convert valueOne into a boolean
        let set = !!appliedValues.valueOne;
        if(set && filter.between) {
            //If valueOne is set, then do the same to valueTwo
            set = !!appliedValues.valueTwo;
        }
        
        return set;
    }
}


function getDisplayValue(filter) {
    if(!valuesApplied(filter)) {
        return "No Values Set";
    }
    if(filter.list) {
        return filter.appliedValueList.join(', ');
    } else {
        let str = filter.appliedValueOne;
        if(filter.between) {
            str += " - " + filter.appliedValueTwo;
        }
        return str;
    }
}

                      </code>
                    </pre>                      
                  </div>
              </div>
          </div>
      </section>
        <!-- Call to action-->
        <section class="page-section bg-dark text-white" id='portfolio'>
            <div class="container text-center">
                <h2 class="mb-4">Resources</h2>
                <hr class="divider my-4" />
                <p class="text-white-50 mb-4">Here are a series of sites that have helped me with both using and extending Yellowfin.</p>
                    
                <div class="row">
                    <div class="col-lg-3 col-md-6 text-center">
                        <div class="mt-5">
                            <h3 class="h4 mb-2">Yellowfin <br> Wiki</h3>
                            <a class="btn btn-light btn-xl" href="http://wiki.yellowfin.bi/" target="_blank">Visit</a>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 text-center">
                        <div class="mt-5">
                            <h3 class="h4 mb-2">Yellowfin Community</h3>
                            <a class="btn btn-light btn-xl" href="https://community.yellowfinbi.com/" target="_blank">Visit</a>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 text-center">
                        <div class="mt-5">
                            <h3 class="h4 mb-2">Yellowfin University</h3>
                            <a class="btn btn-light btn-xl" href="https://university.yellowfinbi.com/" target="_blank">Visit</a>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 text-center">
                        <div class="mt-5">
                            <h3 class="h4 mb-2">Yellowfin Youtube</h3>
                            <a class="btn btn-light btn-xl" href="https://www.youtube.com/user/YellowfinTeam" target="_blank">Visit</a>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 text-center">
                        <div class="mt-5">
                            <h3 class="h4 mb-2">Yellowfin <br> Blog</h3>
                            <a class="btn btn-light btn-xl" href="https://www.yellowfinbi.com/company/blog" target="_blank">Visit</a>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 text-center">
                        <div class="mt-5">
                            <h3 class="h4 mb-2">MDN JS <br> Web Docs</h3>
                            <a class="btn btn-light btn-xl" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript" target="_blank">Visit</a>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 text-center">
                        <div class="mt-5">
                            <h3 class="h4 mb-2">Font Awesome <br> Icons</h3>
                            <a class="btn btn-light btn-xl" href="https://fontawesome.com/icons?d=gallery" target="_blank">Visit</a>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 text-center">
                        <div class="mt-5">
                            <h3 class="h4 mb-2">Material <br> Design</h3>
                            <a class="btn btn-light btn-xl" href="https://material.io/develop/web" target="_blank">Visit</a>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 text-center">
                        <div class="mt-5">
                            <h3 class="h4 mb-2">Bootstrap <br> Framework</h3>
                            <a class="btn btn-light btn-xl" href="https://getbootstrap.com/" target="_blank">Visit</a>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 text-center">
                        <div class="mt-5">
                            <h3 class="h4 mb-2">Chrome <br> DevTools</h3>
                            <a class="btn btn-light btn-xl" href="https://developers.google.com/web/tools/chrome-devtools" target="_blank">Visit</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Footer-->
        <footer class="bg-light py-5">
            <div class="container"><div class="small text-center text-muted">Copyright © 2021</div></div>
        </footer>
        <!-- Bootstrap core JS-->
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Third party plugin JS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js"></script>
        <!-- Core theme JS-->
        <script src="../../js/scripts.js"></script>
     


    </body>
</html>
